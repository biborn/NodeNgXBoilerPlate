<section class="container" id="confirm">

  <h1>Confirm Your Account</h1>

  <p *ngIf="user.profile.email">Thanks for registering! Complete your registration by entering in your confirmation code below.</p>
  <p *ngIf="!user.profile.email">Before logging in, complete your registration by entering in your email address below. If a match is found, you will be
    asked to enter in your confirmation code.</p>
  <div class="alert alert-danger" *ngIf="error">{{error.message}}</div>
  <div class="alert alert-success" *ngIf="message">{{message}}</div>
  <form #f="ngForm" (ngSubmit)="dispatch(f)" novalidate>
    <div class="form-group">
      <label>Email Address:</label>
      <input name="email" type="text" class="form-control" [(ngModel)]="user.profile.email" [disabled]="precheckOk" required>
    </div>
    <div class="form-group" *ngIf="precheckOk">
      <label>Confirmation Code:</label>
      <input name="code" type="text" class="form-control" [(ngModel)]="confirmCode" required>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <ul class="list-inline">
          <li class="list-inline-item">
            <button type="submit" class="btn btn-primary">{{ precheckOk ? "Confirm" : "Submit"}}</button>
          </li>
          <li class="list-inline-item">
            <button type="button" (click)="resend()" class="btn btn-primary">Resend</button>
          </li>
        </ul>

      </div>

    </div>
  </form>
</section>
