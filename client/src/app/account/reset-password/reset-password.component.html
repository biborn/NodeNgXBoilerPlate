<section class="container" id="confirm">

  <h1>Reset Your Password</h1>

  <p *ngIf="reset.profile.email">To reset your password, enter in the code your received via email and choose a new password.</p>
  <p *ngIf="!reset.profile.email">To get started resetting your password, enter in your email below.</p>
  <div class="alert alert-danger" *ngIf="error">{{error}}</div>
  <div class="alert alert-success" *ngIf="message">{{message}}</div>
  <form #f="ngForm" (ngSubmit)="dispatch(f)" novalidate>
    <div class="form-group">
      <label>Email Address:</label>
      <input name="email" type="text" class="form-control" [(ngModel)]="reset.profile.email" [disabled]="precheckOk" required>
    </div>
    <div class="form-group" *ngIf="precheckOk">
      <label>Confirmation Code:</label>
      <input name="code" type="text" class="form-control" [(ngModel)]="reset.resetCode" required>
    </div>
    <app-password-input [label]="'New Password:'" (passwordEv)="passwordEv($event)"></app-password-input>
    <div class="row">
      <div class="col-sm-12">
        <ul class="list-inline">
          <li class="list-inline-item">
            <button type="submit" class="btn btn-primary">{{ precheckOk ? "Confirm" : "Submit"}}</button>
          </li>
          <li class="list-inline-item">
            <button type="button" (click)="resend()" class="btn btn-primary">Resend</button>
          </li>
        </ul>

      </div>

    </div>
  </form>
</section>
